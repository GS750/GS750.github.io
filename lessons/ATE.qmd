---
title: "Treatment Effect Estimation"
webr:
show-startup-message: false \# Display status of webR initialization
---

# How can we estimate treatment effect?

**Example:** Suppose you decided to test whether the new method improves test scores. They randomly assign 10 of your students to the new method (**Treatment Group**) and 10 students to the regular method (**Control Group**).

| Group             | Test Scores                               |
|------------------|-------------------------------------------|
| Treatment Group   | 88, 90, 85, 92, 87, 91, 89, 93, 90, 88   |
| Control Group     | 80, 82, 78, 85, 81, 79, 83, 84, 82, 80   |

How can you evaluate the effect of the new method (treatment)?

::: {.callout-tip appearance="simple"}
## Treatment effect estimation
After performing a randomized experiment, we can **directly compare the two groups** by looking at the difference in their average outcomes.
:::

**Step 1: Calculate the average score**

- **Treatment Group average:**  
$$\frac{88 + 90 + 85 + 92 + 87 + 91 + 89 + 93 + 90 + 88}{10} = 89.3$$

- **Control Group average:**  
$$
\frac{80 + 82 + 78 + 85 + 81 + 79 + 83 + 84 + 82 + 80}{10} = 81.4
$$

**Step 2: Compare the averages**

The difference is:  
$89.3 - 81.4 = 7.9 \text{ points}$

Since the students were randomly assigned, we can be confident that this difference is **caused by the new study program** rather than other factors.

You can use the following code chunks as a calculator: just press the `Run Code` button.


```{webr-r}
# your calculation goes here
(88 + 90 + 85 + 92 + 87 + 91 + 89 + 93 + 90 + 88)/10
```

```{webr-r}
# your calculation goes here
(80 + 82 + 78 + 85 + 81 + 79 + 83 + 84 + 82 + 80)/10
```

```{webr-r}
# your calculation goes here
89.3 - 81.4
```

::: {.callout-warning}

This gives us a single-number estimate of the difference between the groups. However, **we canâ€™t yet conclude whether this difference is statistically significant**. Donâ€™t worry â€” future statistics classes will teach us how to test that! ðŸ™‚

:::

## Try it yourself!


**Example:** A botanist wants to test whether a new fertilizer helps plants grow taller. She randomly assigns 12 plants to receive the new fertilizer (**Treatment Group**) and 12 plants to receive regular soil (**Control Group**).  

| Group             | Plant Height (cm) |
|------------------|-----------------|
| Treatment Group   | 25, 27, 26, 28, 24, 27, 26, 29, 25, 28, 27, 26 |
| Control Group     | 20, 22, 21, 19, 21, 20, 22, 19, 21, 20, 21, 20 |




1. What is the average height of the Treatment Group? Enter your answer with one decimal place (tenth place).

Feel free to add calculations to the code chunk below or use an external calculator.

```{webr-r}
# your calculation goes here

```

```{=html}

<script>
function checkAnswer(inputId, feedbackId, correctAnswer) {
  const userAnswer = parseFloat(document.getElementById(inputId).value);
  const feedback = document.getElementById(feedbackId);
  
  if (isNaN(userAnswer)) {
    feedback.textContent = "Please enter a number with one decimal place (tenth place).";
    feedback.style.color = "red";
  } else if (Math.abs(userAnswer - correctAnswer) < 0.01) {
    feedback.textContent = "Correct! ðŸŽ‰";
    feedback.style.color = "green";
  } else {
    feedback.textContent = "Not quite. Make sure to enter the number with one decimal place.";
    feedback.style.color = "red";
  }
}
</script>
```

```{=html}

<div style="font-family: sans-serif; max-width: 500px; margin: 10px auto; padding: 10px;">
  <input type="number" id="answer1" placeholder="Enter your answer" step="0.1" 
         style="font-size: 16px; padding: 5px; width: 100px; margin-right: 10px; border-radius: 5px; border: 1px solid #ccc;
                -moz-appearance: textfield; -webkit-appearance: none; margin: 0;">
  <button onclick="checkAnswer('answer1','feedback1',26.5)" 
          style="font-size: 16px; padding: 5px 10px; border-radius: 5px; border: none; background-color: #4A90E2; color: white; cursor: pointer;">
    Check Answer
  </button>
  <p id="feedback1" style="font-size: 16px; margin-top: 10px;"></p>
</div>

```

2. What is the average height of the Control Group? Enter your answer with one decimal place (tenth place).

```{webr-r}
# your calculation goes here

```

```{=html}

<div style="font-family: sans-serif; max-width: 500px; margin: 10px auto; padding: 10px;">
  <input type="number" id="answer2" placeholder="Enter your answer" step="0.1" 
         style="font-size: 16px; padding: 5px; width: 100px; margin-right: 10px; border-radius: 5px; border: 1px solid #ccc;
                -moz-appearance: textfield; -webkit-appearance: none; margin: 0;">
  <button onclick="checkAnswer('answer2','feedback2',20.8)" 
          style="font-size: 16px; padding: 5px 10px; border-radius: 5px; border: none; background-color: #4A90E2; color: white; cursor: pointer;">
    Check Answer
  </button>
  <p id="feedback2" style="font-size: 16px; margin-top: 10px;"></p>
</div>
```

3. Estimate the treatment effect? Enter your answer with one decimal place (tenth place).

```{webr-r}
# your calculation goes here

```

```{=html}

<div style="font-family: sans-serif; max-width: 500px; margin: 10px auto; padding: 10px;">
  <input type="number" id="answer3" placeholder="Enter your answer" step="0.1" 
         style="font-size: 16px; padding: 5px; width: 100px; margin-right: 10px; border-radius: 5px; border: 1px solid #ccc;
                -moz-appearance: textfield; -webkit-appearance: none; margin: 0;">
  <button onclick="checkAnswer('answer3','feedback3',5.7)" 
          style="font-size: 16px; padding: 5px 10px; border-radius: 5px; border: none; background-color: #4A90E2; color: white; cursor: pointer;">
    Check Answer
  </button>
  <p id="feedback3" style="font-size: 16px; margin-top: 10px;"></p>
</div>


```





